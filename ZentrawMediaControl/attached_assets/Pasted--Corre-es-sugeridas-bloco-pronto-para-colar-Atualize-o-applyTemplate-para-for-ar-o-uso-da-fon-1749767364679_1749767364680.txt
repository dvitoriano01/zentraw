‚úÖ Corre√ß√µes sugeridas (bloco pronto para colar)
üîÑ Atualize o applyTemplate para for√ßar o uso da fonte + substituir texto recursivamente:
tsx
Copiar
Editar
const replaceTextRecursive = (node: Element) => {
  if (node.childNodes.length === 0) return;

  node.childNodes.forEach((child) => {
    if (child.nodeType === Node.TEXT_NODE && child.nodeValue) {
      if (child.nodeValue.includes('ARTIST')) {
        child.nodeValue = child.nodeValue.replace(/ARTIST/g, artistName);
      }
      if (child.nodeValue.includes('TITLE')) {
        child.nodeValue = child.nodeValue.replace(/TITLE/g, songTitle);
      }
    } else if (child.nodeType === Node.ELEMENT_NODE) {
      replaceTextRecursive(child as Element);
    }
  });
};
Em seguida, troque o loop textElements.forEach(...) por:

tsx
Copiar
Editar
textElements.forEach(textEl => {
  replaceTextRecursive(textEl);

  const currentSize = parseInt(textEl.getAttribute('font-size') || '40');
  const textContent = textEl.textContent || '';
  const newSize = calculateFontSize(textContent, currentSize, 30);
  textEl.setAttribute('font-size', newSize.toString());

  // For√ßa fonte e cor
  textEl.setAttribute('font-family', selectedFont);
  textEl.setAttribute('fill', textColor);
});
üß† Certifique-se que o CSS da fonte no <style> do SVG tamb√©m √© injetado:
tsx
Copiar
Editar
if (customFontObj && customFontObj.base64) {
  const styleEl = svgDoc.createElementNS('http://www.w3.org/2000/svg', 'style');
  const fontFormat = customFontObj.ext === 'ttf' ? 'truetype' :
                    customFontObj.ext === 'otf' ? 'opentype' :
                    customFontObj.ext === 'woff2' ? 'woff2' : 'woff';

  styleEl.textContent = `
    @font-face {
      font-family: '${customFontObj.name}';
      src: url(data:font/${customFontObj.ext};base64,${customFontObj.base64}) format('${fontFormat}');
      font-display: swap;
    }

    text {
      font-family: '${customFontObj.name}', sans-serif;
      fill: ${textColor};
    }
  `;
  svgDoc.documentElement.insertBefore(styleEl, svgDoc.documentElement.firstChild);
}
‚úÖ Resultado ap√≥s essas corre√ß√µes:
As fontes Freepik carregadas do Supabase ser√£o aplicadas corretamente no preview e no SVG.

Os placeholders ARTIST e TITLE funcionar√£o mesmo se estiverem dentro de <tspan> ou nested tags.

O painel final gerar√° a imagem com texto din√¢mico, fonte correta e estiliza√ß√£o esperada.